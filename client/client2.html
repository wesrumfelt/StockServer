<!DOCTYPE html>
<html>
<head>
<title>Stock Ticker</title>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
<script type="text/javascript">
        var webSocket = new WebSocket('ws://localhost:9000/ws');
        var stockIds = []

        webSocket.onerror = function(event) {
            onError(event)
        };

        webSocket.onopen = function(event) {
            onOpen(event)
        };

        webSocket.onmessage = function(event) {
            onMessage(event)
        };

        function onMessage(event) {
            document.getElementById('messages').innerHTML += '<br />'                    + event.data
        }

        function onOpen(event) {
            document.getElementById('messages').innerHTML = 'New Connection established';
        }

        function onError(event) {
            alert(event.data);
        }

        function start() {
            var stockId = document.getElementById("stock").value;
            var msg = {
              userID: "123456",
              action: "addStock",
              stockID: stockId
            };

            webSocket.send(JSON.stringify(msg));
            return false;
        }
</script>
<style type="text/css">

#holder {
 position: absolute;
 top: 200px;
 left: 100px;   
}

#dropDiv {
 display: none;
 position: absolute;
 top: -20px;
 background: #ccc; 
}


</style>
</head>
<body>

<div>
  <input type="text" id="stock" /> <br> <input type="submit"
     value="Send Message to Server" onclick="start()" />
</div>
<div id="messages"></div>
</body>
</html>